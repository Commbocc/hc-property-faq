webpackJsonp([0],[,,,function(t,e,s){"use strict";var n=s(2),r=s(21),a=s(16),o=s.n(a);n.a.use(r.a),e.a=new r.a({routes:[{path:"/",name:"App"},{path:"/hauler/:folio",name:"HaulerResults",component:o.a}]})},function(t,e,s){var n=s(0)(s(5),s(20),null,null);t.exports=n.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),r=s(14),a=s.n(r),o=s(15),i=s.n(o);e.default={name:"app",components:{"address-form":a.a,alert:i.a},data:function(){return{alerts:[]}},methods:{getInfo:function(t){this.$router.push({name:"HaulerResults",params:{folio:t.FOLIO}})}},beforeMount:function(){n.a()||n.b(function(t){t&&console.error(t)},{url:"https://js.arcgis.com/4.3"})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1);e.default={name:"address-form",data:function(){return{inputAddress:"",inputAddressPlaceholder:"Your Address...",responseAddress:null,responseLocation:null,responseParcelInfo:null}},watch:{responseLocation:function(){this.findParcelInfo()},responseParcelInfo:function(){this.$emit("pacelFound",this.responseParcelInfo)}},methods:{findAddress:function(){var t=this;n.c(["esri/tasks/Locator"],function(e){new e({url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/Geocoding/DBO_composite_address_locator/GeocodeServer"}).addressToLocations({address:{SingleLine:t.inputAddress},maxLocations:1}).then(function(e){if(!e.length)throw"The address could not be found.";t.responseAddress=e[0].address,t.responseLocation=e[0].location}).otherwise(function(t){console.error(t)})})},findParcelInfo:function(){var t=this;n.c(["esri/tasks/QueryTask","esri/tasks/support/Query"],function(e,s){var n=new e({url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/InfoLayers/HC_Parcels/MapServer/0"}),r=new s;r.geometry=t.responseLocation,r.outFields=["*"],n.execute(r).then(function(e){if(!e.features.length)throw"No Parcel information could be found.";t.responseParcelInfo=e.features[0].attributes}).otherwise(function(t){console.error(t)})})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"alert",props:["item"],computed:{alert_class:function(){return this.item.class||"alert-info"},icon:function(){switch(this.alert_class){case"alert-warning":return"fa-warning";case"alert-danger":return"fa-times-rectangle";case"alert-success":return"fa-check-circle";default:return"fa-info-circle"}},item_index:function(){return this.$parent.alerts.indexOf(this.item)}},methods:{remove:function(){this.$parent.alerts.splice(this.item_index,1)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),r=s(13),a=s.n(r);e.default={name:"hauler-results",data:function(){return{msg:"Hauler Results",hauler:{Address:"",Garbage:"",Recycling:"",YardWaste:"",Provider:""}}},watch:{$route:function(){this.fetchHaulerInfo()}},computed:{folio:function(){return this.$route.params.folio},garbageDays:function(){return this.getDaysOfWeek(this.hauler.Garbage)},nextGarbageDays:function(){return this.nextPickupDays(this.hauler.Garbage)},recycleDays:function(){return this.getDaysOfWeek(this.hauler.Recycling)},nextRecycleDays:function(){return this.nextPickupDays(this.hauler.Recycling,!0)},yardWasteDays:function(){return this.getDaysOfWeek(this.hauler.YardWaste)},nextYardWasteDays:function(){return this.nextPickupDays(this.hauler.YardWaste)},provider:function(){var t=this,e=[{ids:["WASTE MANAGEMENT","WASTE MANAGEMENT OF TAMPA"],name:"Waste Management of Tampa",address:"3411 N 40th St,<br> Tampa, Fl 33605",phone:"(813) 621-3053",fax:"(813) 740-8210",email:"CentralFloridaService@wm.com"},{ids:["REPUBLIC WASTE"],name:"Republic Services",address:"5210 W Linebaugh Ave,<br> Tampa, Fl 33624",phone:"(813) 265-0292",fax:"(813) 961-3534",email:"republicservicesCSR@repsrv.com"},{ids:["WASTE CONNECTIONS","PROGRESSIVE WASTE SOLUTIONS"],name:"Waste Connections, Inc.",address:"5135 Madison Ave,<br> Tampa, Fl 33619",phone:"(813) 248-3802",fax:"(813) 248-3606",email:"cs-tampa@progressivewaste.com"}];return a.a.chain(e).filter(function(e){return a.a.contains(e.ids,t.hauler.Provider)}).first().value()}},methods:{nextPickupDays:function(){var t=this,e=arguments[0],s=arguments[1],n=a.a.map(this.strToDowIntsArr(e),function(e){return t.nextXday(e)}).sort();return a.a.map(n,function(e){var n=new Date(e),r={weekday:"long",year:"numeric",month:"long",day:"numeric"},a=n.toLocaleDateString("en-US",r);return t.isHoliday(n,s)&&(a="HOLIDAY - NO PICKUP: "+a),a})},getDaysOfWeek:function(t){var e=this,s=a.a.map(this.strToDowIntsArr(t),function(t){return e.nextXday(t)});return a.a.map(s,function(t){var e=new Date(t),s={weekday:"long"};return e.toLocaleDateString("en-US",s).split(",")[0]+"s"}).join(" & ")},strToDowIntsArr:function(t){var e=[{str:"sun",dow:0},{str:"mon",dow:1},{str:"tue",dow:2},{str:"wed",dow:3},{str:"thu",dow:4},{str:"fri",dow:5},{str:"sat",dow:6}];return a.a.chain(e).map(function(e){return t.toLowerCase().indexOf(e.str)>=0&&e.dow}).compact().value()},nextXday:function(t){var e=new Date,e=new Date("6/28/2017");return e.setDate(e.getDate()+(t+7-e.getDay())%7)},isHoliday:function(){var t,e,s,n,r,a,o,i=arguments[0],c=arguments[1]||!1;return e=i.getUTCDate(),s=i.getUTCMonth()+1,("1/1"!==(a=[s,e].join("/"))||!c)&&("1/1"===a||"7/4"===a||"12/25"===a||(n=i.getUTCDay(),r=Math.floor((e-1)/7)+1,"9/1/1"===(o=[s,r,n].join("/"))||"11/4/4"===o||(t=new Date(i),t.setDate(1),t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),r=Math.floor((t.getDate()-e-1)/7)+1,"5/1/1"===[s,r,n].join("/"))))},fetchHaulerInfo:function(){var t=this;n.c(["esri/tasks/QueryTask","esri/tasks/support/Query"],function(e,s){var n=new e({url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/InfoLayers/SW_HAULER_DATA2/MapServer/1"}),r=new s;r.where="Folio="+t.folio,r.outFields=["*"],n.execute(r).then(function(e){if(!e.features.length)throw"No Hauler information could be found.";t.hauler=e.features[0].attributes}).otherwise(function(t){console.error(t)})})}},mounted:function(){this.fetchHaulerInfo()}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),r=s(4),a=s.n(r),o=s(3);n.a.config.productionTip=!1,new n.a({el:"#app",router:o.a,template:"<App/>",components:{App:a.a}})},function(t,e){},function(t,e){},function(t,e){},,function(t,e,s){s(10);var n=s(0)(s(6),s(17),"data-v-5b41a417",null);t.exports=n.exports},function(t,e,s){s(11);var n=s(0)(s(7),s(18),"data-v-6db111db",null);t.exports=n.exports},function(t,e,s){s(12);var n=s(0)(s(8),s(19),"data-v-6e3e75c7",null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"address-form"}},[s("form",{on:{submit:function(e){e.preventDefault(),t.findAddress()}}},[s("div",{staticClass:"form-group input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputAddress,expression:"inputAddress"}],staticClass:"form-control",attrs:{placeholder:t.inputAddressPlaceholder,autocomplete:"off",required:""},domProps:{value:t.inputAddress},on:{input:function(e){e.target.composing||(t.inputAddress=e.target.value)}}}),t._v(" "),t._m(0)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-btn"},[s("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[s("span",{staticClass:"glyphicon glyphicon-search",attrs:{"aria-hidden":"true"}}),t._v("\n\t\t\t\t\tFind\n\t\t\t\t")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"alert",class:t.alert_class},[s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.remove()}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),t._v(" "),s("i",{staticClass:"fa fa-fw",class:t.icon}),t._v(" "),s("strong",[t._v(t._s(t.item.title))]),t._v(" "+t._s(t.item.text)+"\n\n\t"),t.item.footer_txt?s("footer",{staticClass:"small"},[t._v("\n\t\t"+t._s(t.item.footer_txt)+"\n\t")]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"hauler-results"}},[s("section",{staticClass:"panel panel-default"},[s("header",{staticClass:"panel-heading"},[s("strong",[t._v("Searched Address:")]),t._v("\n\t\t\t"+t._s(t.hauler.Address)+"\n\t\t")]),t._v(" "),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-striped table-bordered"},[s("tbody",[s("tr",[t._m(0),t._v(" "),s("td",[s("strong",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.garbageDays)+"\n\t\t\t\t\t\t\t")]),t._v(" "),s("ul",{staticClass:"small list-unstyled"},t._l(t.nextGarbageDays,function(e){return s("li",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t")])}))])]),t._v(" "),s("tr",[t._m(1),t._v(" "),s("td",[s("strong",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.recycleDays)+"\n\t\t\t\t\t\t\t")]),t._v(" "),s("ul",{staticClass:"small list-unstyled"},t._l(t.nextRecycleDays,function(e){return s("li",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t")])}))])]),t._v(" "),s("tr",[t._m(2),t._v(" "),s("td",[s("strong",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.yardWasteDays)+"\n\t\t\t\t\t\t\t")]),t._v(" "),s("ul",{staticClass:"small list-unstyled"},t._l(t.nextYardWasteDays,function(e){return s("li",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t")])}))])]),t._v(" "),s("tr",[s("th",[t._v("Provider")]),t._v(" "),t.provider?s("td",[s("strong",[t._v(t._s(t.provider.name))]),s("br"),t._v(" "),s("span",{domProps:{innerHTML:t._s(t.provider.address)}}),s("br"),t._v(" "),s("i",{staticClass:"fa fa-fw fa-phone"}),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("Phone:")]),t._v(" "+t._s(t.provider.phone)),s("br"),t._v(" "),s("i",{staticClass:"fa fa-fw fa-fax"}),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("Fax:")]),t._v(" "+t._s(t.provider.fax)),s("br"),t._v(" "),s("i",{staticClass:"fa fa-fw fa-envelope"}),t._v(" "),s("span",{staticClass:"sr-only"},[t._v("Email:")]),t._v(" "),s("a",{attrs:{href:"mailto:"+t.provider.email},domProps:{textContent:t._s(t.provider.email)}})]):t._e()])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",[s("strong",[t._v("Trash Days")]),s("br"),t._v(" "),s("span",{staticClass:"small"},[t._v("\n\t\t\t\t\t\t\t\tNext Pickups\n\t\t\t\t\t\t\t")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",[s("strong",[t._v("Recycling Day")]),s("br"),t._v(" "),s("span",{staticClass:"small"},[t._v("\n\t\t\t\t\t\t\t\tNext Pickup\n\t\t\t\t\t\t\t")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",[s("strong",[t._v("Yard Waste Day")]),s("br"),t._v(" "),s("span",{staticClass:"small"},[t._v("\n\t\t\t\t\t\t\t\tNext Pickup\n\t\t\t\t\t\t\t")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("address-form",{on:{pacelFound:t.getInfo}}),t._v(" "),t._l(t.alerts,function(t){return s("alert",{key:t.key,attrs:{item:t}})}),t._v(" "),s("router-view")],2)},staticRenderFns:[]}}],[9]);
//# sourceMappingURL=app.c0a02253151870d21258.js.map